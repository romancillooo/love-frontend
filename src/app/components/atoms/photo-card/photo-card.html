<article
  class="photo-card"
  tabindex="0"
  role="button"
  (click)="onClick()"
  (keyup.enter)="onClick()"
  [style.transform]="!isSelectionMode ? 'rotate(' + randomRotation + 'deg)' : 'none'"
  [class.selection-mode]="isSelectionMode"
  [class.is-selected]="isSelected"
  [attr.aria-label]="photo.description || 'Abrir foto'"
>
  <figure class="photo-frame">
    <!-- ðŸ’¾ BotÃ³n de descarga -->
    <button
      class="download-btn"
      type="button"
      (click)="onDownload($event)"
      [disabled]="isDownloading"
      [attr.aria-label]="'Descargar foto'"
      title="Descargar foto"
    >
      <mat-icon>download</mat-icon>
    </button>

    <!-- â¤ï¸ Indicador de favorito -->
    <div class="favorite-badge" *ngIf="photo.isFavorite && !isSelected">
      <mat-icon>favorite</mat-icon>
    </div>

    <!-- âœ… Overlay de selecciÃ³n -->
    <div class="selection-overlay" *ngIf="isSelected">
      <mat-icon>check_circle</mat-icon>
    </div>

    <img
      [src]="photo.small"
      [alt]="photo.description || 'Foto romÃ¡ntica'"
      loading="lazy"
      (load)="onImageLoad()"
    />
    <figcaption>
      <span class="photo-date">{{ photo.createdAt | date: 'd MMM y â€¢ h:mm a' }}</span>
    </figcaption>
  </figure>
</article>
